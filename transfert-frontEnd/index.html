<!DOCTYPE html>
<html>
  <head>
    <title>Application De Transfert</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./styles/transaction.css" />
  </head>
  <body>
    <div class="notification-box" id="notificationBox">
      <span class="close-btn" onclick="closeNotification()">&times;</span>
      <p id="notificationMessage"></p>
    </div>

    <div class="code-box" id="codebox">
      <span class="closeCode-btn" onclick="closeCode()">&times;</span>
      <p id="codeText">le code de transfert est : 8186947576334938617008749</p>
    </div>

    <div class="container mt-5">
      <h1>Application De Transfert</h1>
      <div class="mb-3">
        <h3 class="toBeColored">Expediteur</h3>
        <div class="d-flex justify-content-around mt-3">
          <button
            type="button"
            class="btn btn-success"
            data-bs-toggle="modal"
            data-bs-target="#addClientModal"
          >
            Ajouter Client
          </button>
          <button
            type="button"
            class="btn btn-primary"
            data-bs-toggle="modal"
            data-bs-target="#openAccountModal"
          >
            Ouvrir Compte
          </button>
          <button
            type="button"
            class="btn btn-danger"
            data-bs-toggle="modal"
            data-bs-target="#closeAccountModal"
          >
            Fermer Compte
          </button>
          <button
            type="button"
            class="btn btn-warning"
            data-bs-toggle="modal"
            data-bs-target="#toggleAccountStatusModal"
          >
            Bloquer/Débloquer Compte
          </button>
          <button
            type="button"
            class="btn btn-danger annulerTransactions"
            data-bs-toggle="modal"
            data-bs-target="#cancelTransactionModal"
          >
            Annuler Transaction
          </button>
        </div>

        <hr />
        <div class="row">
          <div class="col-md-6">
            <label for="inputExpediteurCompteTel" class="form-label"
              >N°compte/n°tel</label
            >
            <input
              type="text"
              class="form-control expedideur"
              id="inputExpediteurCompteTel"
            />
          </div>
          <div class="col-md-6">
            <label for="inputExpediteurNomComplet" class="form-label"
              >Nom Complet</label
            >
            <input
              type="text"
              class="form-control nomExpediteur"
              id="inputExpediteurNomComplet"
              readonly
            />
            <span
              class="info"
              data-bs-toggle="modal"
              data-bs-target="#transactionHistoryModal"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-info-circle"
                viewBox="0 0 16 16"
              >
                <path
                  d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
                />
                <path
                  d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"
                />
              </svg>
            </span>
          </div>
        </div>
      </div>
      <div class="mb-3">
        <h3>Transaction</h3>
        <hr />
        <div class="row">
          <div class="col-md-6">
            <label for="inputMontant" class="form-label">Montant</label>
            <input
              type="number"
              class="form-control montant"
              id="inputMontant"
            />
          </div>
          <div class="col-md-3">
            <label for="selectFournisseur" class="form-label"
              >Fournisseur</label
            >
            <select class="form-select fournisseur" id="selectFournisseur">
              <option value="orangemoney">Orange Money</option>
              <option value="wave">Wave</option>
              <option value="wari">Wari</option>
              <option value="cb">CB</option>
            </select>
          </div>
          <div class="col-md-3">
            <label for="selectTypeTransaction" class="form-label"
              >Transaction</label
            >
            <select class="form-select type" id="selectTypeTransaction">
              <option value="transfert">Transfert</option>
              <option value="depot">Dépôt</option>
              <option value="retrait">Retrait</option>
            </select>
          </div>
        </div>
      </div>
      <div class="mb-3 destinataireZone">
        <h3>Destinataire</h3>
        <hr />
        <div class="row">
          <div class="col-md-6">
            <label for="inputDestinataireCompteTel" class="form-label"
              >N°compte/n°tel</label
            >
            <input
              type="text"
              class="form-control destinataire"
              id="inputDestinataireCompteTel"
            />
          </div>
          <div class="col-md-6">
            <label for="inputDestinataireNomComplet" class="form-label"
              >Nom Complet</label
            >
            <input
              type="text"
              class="form-control nomDestinataire"
              id="inputDestinataireNomComplet"
              readonly
            />
          </div>
        </div>
      </div>

      <div class="d-flex justify-content-around">
        <div class="mb-3">
          <label for="codeCheckbox" class="form-check-label"> Avec Code</label>
          <input class="form-check-input" type="checkbox" id="codeCheckbox" />
        </div>
        <div class="mb-3">
          <label for="permanentCheckbox" class="form-check-label">
            Permanent</label
          >
          <input
            class="form-check-input"
            type="checkbox"
            id="permanentCheckbox"
          />
        </div>
        <div class="d-grid gap-2">
          <button type="button" class="btn btn-primary btn-lg btnSend">
            Valider
          </button>
        </div>
      </div>
    </div>

    <!-- modal qui s'affiche quand on clique sur le bouton i -->
    <div
      class="modal fade"
      id="transactionHistoryModal"
      tabindex="-1"
      aria-labelledby="transactionHistoryModalLabel"
      aria-hidden="true"
    >
      <div
        class="modal-dialog modal-dialog-scrollable modal-dark"
        style="max-width: 60%"
      >
        <div class="modal-content">
          <div class="modal-header">
            <h5
              class="modal-title d-flex justify-content-between align-items-center"
              id="transactionHistoryModalLabel"
            >
              Historique des transactions
              <select class="form-select form-select-sm" id="transactionFilter">
                <option value="date">Filtrer par Date</option>
                <option value="montant">Filtrer par Montant</option>
                <option value="compte">Filtrer par Numéro de Compte</option>
                <option value="telephone">Filtrer par Téléphone</option>
              </select>
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Fermer"
            ></button>
          </div>
          <div class="modal-body">
            <table class="table" style="color: white">
              <thead>
                <tr>
                  <th>Type Transaction</th>
                  <th>Montant</th>
                  <th>Date Transaction</th>
                  <th>Frais</th>
                  <th>Date d'Expiration</th>
                </tr>
              </thead>
              <tbody class="transactionHistoryList">
                <!-- Les transactions seront affichées ici -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- modal ajouter client -->
    <div
      class="modal fade"
      id="addClientModal"
      tabindex="-1"
      aria-labelledby="addClientModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addClientModalLabel">Ajouter Client</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="mb-3">
                <label for="clientFirstName" class="form-label">Prénom</label>
                <input
                  type="text"
                  class="form-control"
                  id="clientFirstName"
                  placeholder="Prénom du client"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="clientLastName" class="form-label">Nom</label>
                <input
                  type="text"
                  class="form-control"
                  id="clientLastName"
                  placeholder="Nom du client"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="clientPhoneNumber" class="form-label"
                  >Numéro de téléphone</label
                >
                <input
                  type="tel"
                  class="form-control"
                  id="clientPhoneNumber"
                  placeholder="Numéro de téléphone du client"
                  required
                />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Fermer
            </button>
            <button type="button" class="btn btn-primary saveClient">
              Enregistrer
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- modal ouverture de compte -->
    <div
      class="modal fade"
      id="openAccountModal"
      tabindex="-1"
      aria-labelledby="openAccountModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="openAccountModalLabel">
              Ouvrir un Compte
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="mb-3">
                <label for="accountNumber" class="form-label"
                  >Numéro de Telephone</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="accountNumber"
                  placeholder="Numéro de Telephone"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="accountType" class="form-label">Fournisseur</label>
                <select class="form-select" id="accountType" required>
                  <option value="" selected disabled>
                    Choisissez le type de fournisseur
                  </option>
                  <option value="wave">wave</option>
                  <option value="orangemoney">Orange Money</option>
                  <option value="wari">Wari</option>
                  <option value="cb">Compte Bancaire</option>
                </select>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Annuler
            </button>
            <button type="button" class="btn btn-primary ouvrirCompte">
              Ouvrir Compte
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- fermeture de compte -->
    <div
      class="modal fade"
      id="closeAccountModal"
      tabindex="-1"
      aria-labelledby="closeAccountModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="closeAccountModalLabel">
              Fermer un Compte
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="mb-3">
                <label for="accountNumberToClose" class="form-label"
                  >Numéro de Compte à Fermer</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="accountNumberToClose"
                  placeholder="Numéro de Compte à Fermer"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="closingReason" class="form-label"
                  >Raison de Fermeture</label
                >
                <textarea
                  class="form-control"
                  id="closingReason"
                  rows="3"
                  placeholder="Raison de la fermeture du compte"
                  required
                ></textarea>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Annuler
            </button>
            <button type="button" class="btn btn-danger fermerCompte">
              Fermer Compte
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- debloquer/bloquer -->
    <div
      class="modal fade"
      id="toggleAccountStatusModal"
      tabindex="-1"
      aria-labelledby="toggleAccountStatusModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="toggleAccountStatusModalLabel">
              Bloquer/Débloquer un Compte
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="mb-3">
                <label for="accountNumberToBlock" class="form-label"
                  >Numéro de Compte</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="accountNumberToBlock"
                  placeholder="Numéro de Compte"
                  required
                />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Annuler
            </button>
            <button
              type="button"
              class="btn btn-danger"
              id="blockAccountButton"
            >
              Bloquer
            </button>
            <button
              type="button"
              class="btn btn-success"
              id="unblockAccountButton"
            >
              Débloquer
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- annuler transaction -->
    <div
      class="modal fade"
      id="cancelTransactionModal"
      tabindex="-1"
      aria-labelledby="cancelTransactionModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg">
        <!-- Utilisation de modal-lg pour une largeur plus grande -->
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="cancelTransactionModalLabel">
              Annuler des Transactions
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <table class="table" style="color: white">
              <thead>
                <tr>
                  <th>Nom Envoyeur</th>
                  <th>Prénom Envoyeur</th>
                  <th>Date</th>
                  <th>Montant</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody class="zoneToInsertTransactions"></tbody>
            </table>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Annuler
            </button>
          </div>
        </div>
      </div>
    </div>

    <script type="module" src="./dist/transaction.js"></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
      integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
      crossorigin="anonymous"
    ></script>

  </body>
</html>
